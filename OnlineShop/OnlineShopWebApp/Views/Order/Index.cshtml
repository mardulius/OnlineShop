@using OnlineShopWebApp.ViewModels

@model OrderVM
@{
    ViewData["Title"] = "Оформление заказа";
}

<form method="post" asp-action="Create">
    <div class="row">
        <div class="col text-center">
            <div>
                <label>Имя</label>
                <div>
                    <input asp-for=Order.FirstName type="text" />
                </div>

            </div>
            <div>
                <label>Фамилия</label>
                <div>
                    <input asp-for=Order.LastName type="text" />
                </div>
            </div>
            <div>
                <label>E-mail</label>
                <div>
                    <input asp-for=Order.Email type="email" />
                </div>
            </div>
            <div>
                <label>Телефон</label>
                <div>
                    <input asp-for=Order.Phone type="tel" />
                </div>
            </div>
            <div>
                <label>Адрес</label>
                <div>
                    <input asp-for=Order.Address type="text" />
                </div>
            </div>

        </div>
    </div>
    <input asp-for=Order.Id type="hidden" value=@Guid.NewGuid() />
    <input asp-for=Order.Cart type="hidden" value=@Model.Cart />
    <input asp-for=Order.UserId type="hidden" value=@Model.Cart.UserId />
    <input asp-for=Order.TotalCost type="hidden" value=@Model.Cart.TotalCost />
    <input asp-for=Order.Created type="hidden" value=@DateTime.Now />
    <div class="row">

        <table class="table">

            <tr>
                <th>Название</th>
                <th>Цена руб.</th>
                <th>Количество</th>
                <th>Стоимость руб.</th>
            </tr>

            @foreach (var cartItem in Model.Cart.Items)
            {
                <tr>
                    <td>@cartItem.Product.Name</td>
                    <td>@cartItem.Product.Cost</td>
                    <td>@cartItem.Quantinity</td>
                    <td>@cartItem.Cost</td>
                </tr>
            }

        </table>

    </div>

    <div class="text-right">
        <h3>Итоговая сумма: @Model.Cart.TotalCost руб.</h3>
    </div>

    <div>
        <button type="submit" class="btn btn-success">Оформить заказ</button>


    </div>

</form>